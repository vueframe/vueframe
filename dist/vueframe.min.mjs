import"lite-youtube-embed";import"lite-youtube-embed/src/lite-yt-embed.css";import{resolveComponent as e,openBlock as t,createBlock as i}from"vue";import"lite-vimeo-embed";var r={name:"YouTube",props:{id:{type:String,required:!0},title:{type:String,default:void 0},poster:{type:String,default:void 0},posterquality:{type:String,default:"default",validator:e=>["max","high","default","low"].includes(e)},params:{type:String,default:void 0}},computed:{videoId(){return(e=>{if(!e)return null;const t=String(e);if(t.includes("youtu.be/"))return t.split("youtu.be/")[1].split(/[?&]/)[0];if(t.includes("youtube.com/")){const e=t.match(/[?&]v=([^?&]+)/);return e?e[1]:null}return/^[A-Za-z0-9_-]{11}$/.test(t)?t:null})(this.id)||""},postersrc(){return this.poster||(this.videoId?`https://img.youtube.com/vi/${this.videoId}/${{max:"maxresdefault",high:"hqdefault",default:"sddefault",low:"default"}[this.posterquality]||"sddefault"}.jpg`:"")}},mounted(){this.enforcePoster(),this.setupMutationObserver()},methods:{enforcePoster(){this.$refs.youtube&&this.postersrc&&(this.$refs.youtube.style.backgroundImage=`url('${this.postersrc}')`)},setupMutationObserver(){const e=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&this.enforcePoster()}))}));this.$refs.youtube&&e.observe(this.$refs.youtube,{attributes:!0,attributeFilter:["style"]})}},watch:{postersrc:{handler(){this.$nextTick(this.enforcePoster)},immediate:!0}},beforeDestroy(){this.observer&&this.observer.disconnect()}};function s(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}s("\nlite-youtube {\r\n  aspect-ratio: 16 / 9;\r\n  width: 720px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  display: inline-flex;\r\n  overflow: hidden;\n}\nlite-youtube::before {\r\n  background-image: none;\n}\r\n"),r.render=function(r,s,o,n,u,d){const l=e("lite-youtube");return t(),i(l,{ref:"youtube",videoid:d.videoId,title:o.title,params:o.params},null,8,["videoid","title","params"])},r.__file="src/components/YouTube.vue";var o={name:"Vimeo",props:{id:{type:String,required:!0},title:{type:String,default:void 0},poster:{type:String,default:void 0},posterquality:{type:String,default:"default",validator:e=>["max","high","default","low"].includes(e)}},computed:{videoId(){return(e=>{if(!e)return null;const t=String(e);return t.includes("vimeo.com/")?t.split("vimeo.com/")[1].split(/[?&]/)[0]:/^\d+$/.test(t)?t:null})(this.id)||""},postersrc(){return this.poster||(this.videoId?`https://vumbnail.com/${this.videoId}_${{max:"thumbnail_large",high:"thumbnail_medium",default:"thumbnail_medium",low:"thumbnail_small"}[this.posterquality]||"thumbnail_medium"}.jpg`:"")}},mounted(){this.enforcePoster(),this.setupMutationObserver()},methods:{enforcePoster(){this.$refs.vimeo&&this.postersrc&&(this.$refs.vimeo.style.backgroundImage=`url('${this.postersrc}')`)},setupMutationObserver(){const e=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&this.enforcePoster()}))}));this.$refs.vimeo&&e.observe(this.$refs.vimeo,{attributes:!0,attributeFilter:["style"]})}},watch:{postersrc:{handler(){this.$nextTick(this.enforcePoster)},immediate:!0}},beforeDestroy(){this.observer&&this.observer.disconnect()}};s("\nlite-vimeo {\r\n  aspect-ratio: 16 / 9;\r\n  width: 720px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  display: inline-flex;\r\n  overflow: hidden;\n}\r\n"),o.render=function(r,s,o,n,u,d){const l=e("lite-vimeo");return t(),i(l,{ref:"vimeo",videoid:d.videoId,"data-title":o.title},null,8,["videoid","data-title"])},o.__file="src/components/Vimeo.vue";export{o as Vimeo,r as YouTube};
